@page "{id:int}"
@using MySuperStats.Contracts.Responses
@model MySuperStats.WebUI.Pages.MatchDetailModel
@{
    ViewData["Title"] = "Karşılaşma detayı";
}
    <!-- Main content -->
    <section class="content">

      <div class="row">
          <div class="col-xs-12">
              <label>Tarih:</label> @(Model.MatchResponse.MatchDate.ToString("dd-MM-yyyy"))<br />
              <label>Sıra:</label> @(Model.MatchResponse.Order)<br />
              <label>Video Link: </label><a href="@Model.MatchResponse.VideoLink" target="_blank">@(Model.MatchResponse.VideoLink)</a>
          </div>
      </div>

      @{
          var teams = new List<TeamResponse>();
          teams.Add(Model.MatchResponse.HomeTeam);
          teams.Add(Model.MatchResponse.AwayTeam);
      }

      @foreach(var team in teams)
      {
        <div class="row">
          <div class="col-xs-12">
            <div class="box">
              <!-- /.box-header -->
              <div class="box-body">
                <label>Takım Adı: </label>@(team.Name)<br />
                <label>Rengi: </label>@(team.Color)<br />
                <label>Yaş Ort.: </label>@(team.GetAgeRatioForBasketball())<br />
                <label>Oyuncu Sayısı: </label>@(team.BasketballStats.Count)                
                <table id="match_detail" class="table table-bordered table-striped">
                  <thead>
                  <tr>
                    <th>Oyuncu</th>
                    <th>1 Sayı</th>
                    <th>2 Sayı</th>
                    <th>Top. Sayı</th>
                    <th>Ribaunt</th>
                    <th>Kapma</th>
                    <th>Asist</th>
                    <th>Kayıp</th>
                    <th>Kesme</th>
                  </tr>
                  </thead>
                  <tbody>
                      @foreach (var stats in team.BasketballStats)
                      {
                          var statsForUI = stats.GetStatsForUI();
                          <tr>
                              <td class="text-left"><a asp-page="PlayerDetail" asp-route-id="@stats.User.Id">@(stats.User.FirstName) @(stats.User.Surname)</a></td>
                              <td>@(statsForUI.OnePoint)</td>
                              <td>@(statsForUI.TwoPoint)</td>
                              <td>@(statsForUI.TotalPoint)</td>
                              <td>@(statsForUI.Rebound)</td>
                              <td>@(statsForUI.StealBall)</td>
                              <td>@(statsForUI.Assist)</td>
                              <td>@(statsForUI.LooseBall)</td>
                              <td>@(statsForUI.Interrupt)</td>
                          </tr>
                      }
                      @{
                        var totalStatsForUI = team.GetTeamTotalForBasketball().GetStatsForUI();
                      <tr>
                          <td><b>Toplam</b></td>
                              <td><b>@(totalStatsForUI.OnePoint)</b></td>
                              <td><b>@(totalStatsForUI.TwoPoint)</b></td>
                              <td><b>@(totalStatsForUI.TotalPoint)</b></td>
                              <td><b>@(totalStatsForUI.Rebound)</b></td>
                              <td><b>@(totalStatsForUI.StealBall)</b></td>
                              <td><b>@(totalStatsForUI.Assist)</b></td>
                              <td><b>@(totalStatsForUI.LooseBall)</b></td>
                              <td><b>@(totalStatsForUI.Interrupt)</b></td>
                      </tr>
                      }
                  </tbody>
                 </table>
              </div>
              <!-- /.box-body -->
            </div>
            <!-- /.box -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      }
    </section>
    <!-- /.content -->
